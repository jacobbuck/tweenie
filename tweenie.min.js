/*!
 * Tweenie.js - Copyright (c) 2012 Jacob Buck
 * https://github.com/jacobbuck/Tweenie.js
 * Licensed under the terms of the MIT license.
 */
(function(f){for(var h=0,d=f.requestAnimationFrame,e=["ms","moz","webkit","o"],g=0;g<e.length&&!d;g++)d=f[e[g]+"RequestAnimationFrame"];d||(d=function(a){var b=Date.now(),c=Math.max(0,16-(b-h)),d=f.setTimeout(function(){a(b+c)},c);h=b+c;return d});Function.prototype.extend=function(a){for(var b in a)this.prototype[b]=a[b]};var i=function(){this.items=[];return this};i.extend({add:function(a){this.items.push(a);return this.tick()},remove:function(a){for(var b=0;b<this.items.length;b++)a===this.items[b]&&this.items.splice(b,1);return this},step:function(a){if(1>this.items.length)return this;for(var b=0,c;c=this.items[b],b<this.items.length;b++)c.step(a),c.finish&&this.remove(c);return this},tick:function(){if(0<this.items.length){var a=this;d(function(b){a.step(b).tick()})}return this},stop:function(a){for(var b=0;b<this.items.length;b++)this.items[b].stop(a);return this}});var j=function(a,b){this.options=a;this.parent=b;return this};j.extend({start:function(){this.finish&&(this.started=this.finish=0);this.parent.stack.remove(this).add(this);return this},step:function(a){this.started=this.started||a;a>this.started+this.options.duration&&(this.finish=1);this.options.step(this.finish?this.options.to:this.options.easing(a-this.started,0,1,this.options.duration)*(this.options.to-this.options.from)+this.options.from,this);this.finish&&this.options.callback&&this.options.callback(this);return this},stop:function(a){this.finish=1;a||this.parent.stack.remove(this);return this}});e=function(){this.stack=new i};e.extend({tween:function(a,b,c,d,e,f){return new j({duration:a,from:b,to:c,step:d,callback:e,easing:f||function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b}},this)},stop:function(a){this.stack.stop(a);return this}});f.Tweenie=e})(this);